<html>
<head>
  <title>Knewton Artists</title>
</head>
<body>
  <div id="app-log"></div>

  <script src="base.js" type="text/javascript"></script>
  <script src="util.js" type="text/javascript"></script>
  <script src="artist.js" type="text/javascript"></script>
  <script src="application.js" type="text/javascript"></script>
  <script type="text/javascript">
    var dataURL = 'data/Artist_lists_small.txt';
    var Log;
    document.addEventListener("DOMContentLoaded", function() {
      Log = DOMLog.create({id: 'app-log'});
      Log.info("Document loaded, fetching data");

      var app = Application.create({
        N_LINES: 50
      });

      var tStart = new Date();
      Ajax.get(dataURL,{
        onSuccess: function() {
          var tEnd = new Date();
          Log.debug("Loaded  data in " + (tEnd - tStart) + "ms");

          var tStart2 = new Date();
          app.didReceiveData.bind(app)
          var tEnd2 = new Date();
          Log.debug("Processed  data in " + (tEnd2 - tStart2) + "ms");
        }
      })
    });
  </script>
</body>
</html>
